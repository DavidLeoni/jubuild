

{% block breadcrumbs %}

    <div id='jupman-langs'></div>

    <script>
    var JUPMAN_LANG = 'en'
    </script>
    
    <script>
        var xhr = new XMLHttpRequest();
        var page = window.location.pathname;
        if (window.location.protocol =='file:'){
            var prefix_pos = page.indexOf('_build/html/');
            if (prefix_pos != -1){
                page = page.slice(prefix_pos + '_build/html/'.length);
            }
        } 
        xhr.open("GET", "https://en.softpython.org/cgi-bin/lang.php?page="+page, true);
        xhr.onload = function (e) {
            if (xhr.readyState === 4) {
                if (xhr.status === 200) {
                    console.log(xhr.responseText);
                    var trans = JSON.parse(xhr.responseText);
                    var the_div = document.getElementById("jupman-langs");
                    for (var lang in trans) {
                        if (lang != JUPMAN_LANG){                        
                            var link_node = document.createElement("A");
                            link_node.setAttribute('href',trans[lang]);
                            var img_node = document.createElement('IMG');
                            img_node.setAttribute('src','_static/img/flags/flat/32/'+lang+'.png')
                            link_node.appendChild(img_node);
                            the_div.appendChild(link_node);
                        }
                    }
                } else {
                    console.error(xhr.statusText);
                    console.log(xhr.responseText);
                }
            }
        };
        xhr.onerror = function (e) {
            console.error(xhr.statusText);
            console.log(xhr.responseText);
        };
        xhr.send(null);    
    </script>    

     <!-- <li> <h2 style="background-color:red; color:yellow">WARNING! THIS VERSION IS OLD !  <br/>
    <a style=" text-decoration: underline;" href="https://jupman.readthedocs.io/en/latest">GOT TO LATEST VERSION</a></li>
 </h2></li>-->
    <!-- Commented because doesn't work with sections,
         see https://github.com/DavidLeoni/jupman/issues/39
    <li><a href="{{ pathto(master_doc) }}">{{ _('Docs') }}</a> &raquo;</li>
    {% for doc in parents %}
        <li><a href="{{ doc.link|e }}">{{ doc.title }}</a> &raquo;</li>
    {% endfor %}
    <li>{{ title }}</li>
    -->
{% endblock %}